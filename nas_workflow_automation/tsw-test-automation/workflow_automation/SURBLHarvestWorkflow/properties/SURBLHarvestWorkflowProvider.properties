# Provider details
provider.classname=com.mcafee.tsw.agent.provider.RsyncFileWorkProvider
provider.sourceDir=./SURBLHarvestWorkflow/download
provider.archiveDir=./SURBLHarvestWorkflow/archive
provider.errorDir=./SURBLHarvestWorkflow/error
provider.enableHeartbeat=true
provider.heartrate=500

provider.rsyncUseSSH=false
provider.hostname=/opt/workflow_automation/RSYNC_SERVER/SURBL
provider.remoteFilename=multi.surbl.org.rbldnsd


#Preprocessor to skip lines which were present in previous file
worker.classname.1=com.mcafee.tsw.agent.worker.PreprocessorWorker
worker.threadcount.1=1
Preprocessor.count=1
Preprocessor.1.className=com.mcafee.tsw.preprocessor.SkipSeenLinesPreprocessor
SkipSeenLinesPreprocessor.previousFile=/data/webcache/workflows/harvesters/SURBLHarvestWorkflow/previousfile.txt

# Parse file
worker.classname.2=com.mcafee.tsw.agent.worker.FileParserWorker
parser.classname=com.mcafee.tsw.parser.RegexFileParser
RegexFileParser.match.1.matchRegex=.*127.0.0.*
RegexFileParser.match.1.extractRegex=^(.*) :(127.0.0.\\d+):(\\S+), (\\S+) on lists (.*),
RegexFileParser.match.1.extractField.1=url
RegexFileParser.match.1.extractField.2=source
RegexFileParser.match.1.extractField.3=status
RegexFileParser.match.1.extractField.4=url2
RegexFileParser.match.1.extractField.5=surbl_cats

# Consumer
consumer.classname=com.mcafee.tsw.agent.consumer.ActiveMQWorkflowConsumer
consumer.enableHeartbeat=true
consumer.heartrate=200

activemq_producer.connectionString=failover:(tcp://localhost:61616)
activemq_producer.username=admin
activemq_producer.password=admin
activemq_producer.queueName=surbl_harvest_urls


# Info
verbose=true

agent.name=SURBLHarvestWorkflow
agent.getlock=false
